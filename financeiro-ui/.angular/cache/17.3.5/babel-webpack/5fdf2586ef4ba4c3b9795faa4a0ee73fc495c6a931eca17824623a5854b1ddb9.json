{"ast":null,"code":"import { BaseResourceFormComponent } from 'src/app/shared/components/base-resource-form/base-resource-form.component';\nimport { MessageService } from 'primeng/api';\nimport { Validators } from '@angular/forms';\nimport { environment } from 'src/environments/environment';\nimport * as moment from 'moment';\nimport { ParcelasContratos } from 'src/app/shared/models/parcelas-contratos';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../parcelas-contratos.service\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"primeng/dynamicdialog\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../../../shared/components/form-field-error/form-field-error.component\";\nimport * as i7 from \"primeng/calendar\";\nimport * as i8 from \"primeng/button\";\nimport * as i9 from \"primeng/inputtext\";\nimport * as i10 from \"primeng/panel\";\nconst _c0 = a0 => ({\n  mask: a0\n});\nconst _c1 = a0 => ({\n  \"back-disable\": a0\n});\nfunction ParcelasContratosCadastroComponent_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"button\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r0.submittingForm || ctx_r0.resourceForm.invalid);\n  }\n}\nfunction ParcelasContratosCadastroComponent_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"button\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r0.submittingForm || ctx_r0.resourceForm.invalid);\n  }\n}\nexport let ParcelasContratosCadastroComponent = /*#__PURE__*/(() => {\n  class ParcelasContratosCadastroComponent extends BaseResourceFormComponent {\n    constructor(parcelasContratosService, injector, messageService, dialogService, ref) {\n      super(injector, new ParcelasContratos(), parcelasContratosService, ParcelasContratos.fromJson, new MessageService());\n      this.parcelasContratosService = parcelasContratosService;\n      this.injector = injector;\n      this.messageService = messageService;\n      this.dialogService = dialogService;\n      this.ref = ref;\n      //Move os dados da pessoas para o modal de cadastro de parcelas\n      this.dadosContrato = 'Contrato ' + document.getElementById('numeroContrato').value + '/2022';\n      this.receitaDespesa = document.getElementById('receitaDespesa').value;\n      this.grupoFinanceiro = document.getElementById('grupoFinanceiro').value;\n      this.tipoGrupoFinanceiro = document.getElementById('tipoGrupoFinanceiro').value;\n      this.maxDate = new Date();\n      this.env = environment;\n      this.parcelaContratoId = 0;\n      this.vlrParcela = 0;\n      this.vlrsValor = \"\";\n      this.isDisabledDatas = true;\n      /// Soma os valores e devolve em valor total\n      this.somaVlrs = function somaVlrs(event) {\n        this.vlrsValor = this.resourceForm.get('valor').value;\n        if (this.vlrsValor != null) {\n          //console.log(\"original ,\", this.vlrsValor)\n          this.vlrsValor = this.vlrsValor.replaceAll(\".\", \"\");\n          //console.log(\"suprimi pontos ,\", this.vlrsValor)\n          this.vlrsValor = this.vlrsValor.replace(\",\", \".\");\n          //console.log(\"stroca virgula ,\", this.vlrsValor)\n          this.vlrParcela = Number(this.vlrsValor);\n          //console.log(\"resultado ,\", this.vlrParcela)\n        } else {\n          this.vlrParcela = Number(0);\n        }\n        this.vlrsValor = this.resourceForm.get('juros').value;\n        if (this.vlrsValor != null) {\n          this.vlrsValor = this.vlrsValor.replaceAll(\".\", \"\");\n          this.vlrsValor = this.vlrsValor.replace(\",\", \".\");\n          this.vlrJuros = Number(this.vlrsValor);\n        } else {\n          this.vlrJuros = Number(0);\n        }\n        this.vlrsValor = this.resourceForm.get('multa').value;\n        if (this.vlrsValor != null) {\n          this.vlrsValor = this.vlrsValor.replaceAll(\".\", \"\");\n          this.vlrsValor = this.vlrsValor.replace(\",\", \".\");\n          this.vlrMulta = Number(this.vlrsValor);\n        } else {\n          this.vlrMulta = Number(0);\n        }\n        this.vlrsValor = this.resourceForm.get('correcao').value;\n        if (this.vlrsValor != null) {\n          this.vlrsValor = this.vlrsValor.replaceAll(\".\", \"\");\n          this.vlrsValor = this.vlrsValor.replace(\",\", \".\");\n          this.vlrCorrecao = Number(this.vlrsValor);\n        } else {\n          this.vlrCorrecao = Number(0);\n        }\n        this.vlrsValor = this.resourceForm.get('desconto').value;\n        if (this.vlrsValor != null) {\n          this.vlrsValor = this.vlrsValor.replaceAll(\".\", \"\");\n          this.vlrsValor = this.vlrsValor.replace(\",\", \".\");\n          this.vlrDesconto = Number(this.vlrsValor);\n        } else {\n          this.vlrDesconto = Number(0);\n        }\n        this.vlrTotal = 0;\n        this.vlrTotal = Number(this.vlrParcela + this.vlrJuros + this.vlrMulta + this.vlrCorrecao - this.vlrDesconto).toFixed(2);\n        //console.log(\"Valor Total ,\", this.vlrTotal)\n        this.resourceForm.patchValue({\n          valorPago: this.vlrTotal\n        });\n        document.getElementById('juros').disabled = true;\n        document.getElementById('multa').disabled = true;\n        document.getElementById('correcao').disabled = true;\n        document.getElementById('desconto').disabled = true;\n      };\n      this.valorMask = function () {\n        var numbers = document.getElementById('valor').value.match(/\\d/g);\n        var numberLength = 0;\n        if (numbers) {\n          numberLength = numbers.join('').length;\n        }\n        if (numberLength <= 2) {\n          return [',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 3) {\n          return [/[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 4) {\n          return [/[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 5) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 6) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 7) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 8) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 9) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 10) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 11) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n      };\n      this.jurosMask = function () {\n        var numbers = document.getElementById('juros').value.match(/\\d/g);\n        var numberLength = 0;\n        if (numbers) {\n          numberLength = numbers.join('').length;\n        }\n        if (numberLength <= 1) {\n          return [',', /[0-9]/];\n        }\n        if (numberLength <= 2) {\n          return [',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 3) {\n          return [/[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 4) {\n          return [/[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 5) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 6) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 7) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 8) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 9) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 10) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 11) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n      };\n      this.multaMask = function () {\n        var numbers = document.getElementById('multa').value.match(/\\d/g);\n        var numberLength = 0;\n        if (numbers) {\n          numberLength = numbers.join('').length;\n        }\n        if (numberLength <= 1) {\n          return [',', /[0-9]/];\n        }\n        if (numberLength <= 2) {\n          return [',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 3) {\n          return [/[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 4) {\n          return [/[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 5) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 6) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 7) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 8) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 9) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 10) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 11) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n      };\n      this.correcaoMask = function () {\n        var numbers = document.getElementById('correcao').value.match(/\\d/g);\n        var numberLength = 0;\n        if (numbers) {\n          numberLength = numbers.join('').length;\n        }\n        if (numberLength <= 1) {\n          return [',', /[0-9]/];\n        }\n        if (numberLength <= 2) {\n          return [',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 3) {\n          return [/[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 4) {\n          return [/[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 5) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 6) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 7) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 8) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 9) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 10) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 11) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n      };\n      this.descontoMask = function () {\n        var numbers = document.getElementById('desconto').value.match(/\\d/g);\n        var numberLength = 0;\n        if (numbers) {\n          numberLength = numbers.join('').length;\n        }\n        if (numberLength <= 2) {\n          return [',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 3) {\n          return [/[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 4) {\n          return [/[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 5) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 6) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 7) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 8) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 9) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 10) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 11) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n      };\n      this.valorPagoMask = function () {\n        var numbers = document.getElementById('valorPago').value.match(/\\d/g);\n        var numberLength = 0;\n        if (numbers) {\n          numberLength = numbers.join('').length;\n        }\n        if (numberLength <= 2) {\n          return [',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 3) {\n          return [/[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 4) {\n          return [/[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 5) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 6) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 7) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 8) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 9) {\n          return [/[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 10) {\n          return [/[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n        if (numberLength <= 11) {\n          return [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, ',', /[0-9]/, /[0-9]/];\n        }\n      };\n      this.ptBrLocale = this.loadLocale();\n      this.buildResourceForm(); /*limpa o formulario/resourceForm */\n      if (this.env.currentActionGlobal == \"DELETE\" || this.env.currentActionGlobal == \"EDIT\") {\n        this.env.botaoOnOf = true;\n      } else {\n        this.env.botaoOnOf = false;\n      }\n    }\n    buildResourceForm() {\n      this.resourceForm = this.formBuilder.group({\n        id: [null],\n        parcela: [null, [Validators.required, Validators.minLength(1)]],\n        valor: [null, [Validators.required]],\n        juros: [null],\n        multa: [null],\n        correcao: [null],\n        desconto: [null],\n        valorPago: [null],\n        dataVencimento: [{\n          value: null,\n          disabled: this.isDisabledDatas\n        }, [Validators.required]],\n        dataPagamento: [{\n          value: null,\n          disabled: this.isDisabledDatas\n        }],\n        documento: [null],\n        bancoId: [1],\n        observacao: [null],\n        contratoId: [document.getElementById('id').value],\n        contratos: this.formBuilder.group({\n          id: [null],\n          numeroContrato: [null],\n          tiposGruposFinanceiros: this.formBuilder.group({\n            gruposFinanceiros: this.formBuilder.group({\n              receitaDespesa: [null],\n              descricao: [null]\n            }),\n            descricao: [null]\n          })\n        }),\n        bancos: this.formBuilder.group({\n          banco: [null],\n          agencia: [null],\n          nome: [null]\n        })\n      });\n    }\n    submitForm() {\n      //this.submittingForm = true;\n      if (this.env.currentActionGlobal === 'NEW') {\n        // clicou no + (novo)\n        this.createResource();\n      } else {\n        if (this.env.currentActionGlobal === 'EDIT') {\n          // clicou no update\n          this.updateResource();\n        } else {\n          // clicou no delete\n          this.deleteResource();\n        }\n      }\n    }\n    deleteResource() {\n      this.parcelasContratosService.deleteParcelaContrato(this.parcelaContratoId).then(response => {\n        this.buildResourceForm(); /*limpa o formulario/resorceForm*/\n        this.ref.close();\n      });\n    }\n    updateResource() {\n      // Logica para mudar as datas de string para date mover para resourceform e mudar o formato.\n      // Tambem troca os caracteres .(ponto) e ,(virgula) dos valores, convertendo de string para decimal\n      const replacer = function (key, value) {\n        if (key == \"dataVencimento\" || key == \"dataPagamento\") {\n          if (value != null) {\n            return moment(this[key], 'DD-MM-YYYY').format();\n          } else {\n            return null;\n          }\n        }\n        if (key == \"valor\" || key == \"juros\" || key == \"multa\" || key == \"correcao\" || key == \"desconto\" || key == \"valorPago\") {\n          this.vlrsValor = value;\n          if (this.vlrsValor != null) {\n            this.vlrsValor = this.vlrsValor.replaceAll(\".\", \"\");\n            this.vlrsValor = this.vlrsValor.replace(\",\", \".\");\n            this.vlrValor = Number(this.vlrsValor);\n            return this.vlrValor;\n          } else {\n            return null;\n          }\n        }\n        return value;\n      };\n      const resource = this.jsonDataToResourceFn(this.resourceForm.value);\n      // copia os dados de ParcelasContatos(classe) para parceçasContratos(variavel json)\n      let parcelasContratos = JSON.stringify(resource, replacer);\n      // Chama a funcao que faz update\n      this.parcelasContratosService.updateParcelaContrato(parcelasContratos).then(response => {\n        this.buildResourceForm(); /*limpa o formulario/resorceForm*/\n        this.ref.close();\n      });\n    }\n    createResource() {\n      const replacer = function (key, value) {\n        if (key == \"valor\" || key == \"juros\" || key == \"multa\" || key == \"correcao\" || key == \"desconto\" || key == \"valorPago\") {\n          this.vlrsValor = value;\n          if (this.vlrsValor != null) {\n            this.vlrsValor = this.vlrsValor.replaceAll(\".\", \"\");\n            this.vlrsValor = this.vlrsValor.replace(\",\", \".\");\n            this.vlrValor = Number(this.vlrsValor);\n            return this.vlrValor;\n          } else {\n            return null;\n          }\n        }\n        return value;\n      };\n      const resource = this.jsonDataToResourceFn(this.resourceForm.value);\n      // copia os dados de ParcelasContatos(classe) para parceçasContratos(variavel json)\n      let parcelasContratos = JSON.stringify(resource, replacer);\n      // Chama a funcao que insere\n      this.parcelasContratosService.createParcelaContrato(parcelasContratos).then(response => {\n        this.buildResourceForm(); /*limpa o formulario/resorceForm*/\n        this.ref.close();\n      }).catch(error => {\n        console.log(error);\n        this.messageService.add({\n          severity: 'error',\n          summary: 'Erro',\n          detail: error.error[0].mensagemUsuario\n        });\n      });\n    }\n    fecharModal() {\n      this.ref.close();\n    }\n    // No edit retorna os dados aqui.\n    ngOnInit() {\n      this.parcelasContratosService.parcelasContratosEditSubscribeId(resources => {\n        //console.log(\"RES: \", resources.parcela)\n        if (!resources.id) {\n          this.resourceForm.patchValue({\n            parcela: resources.parcela\n          });\n        } else {\n          this.parcelaContratoId = resources.id;\n          this.resourceForm.patchValue({\n            id: resources.id,\n            parcela: resources.parcela,\n            valor: resources.valor,\n            juros: resources.juros,\n            multa: resources.multa,\n            correcao: resources.correcao,\n            desconto: resources.desconto,\n            valorPago: resources.valorPago,\n            dataVencimento: resources.dataVencimento,\n            dataPagamento: resources.dataPagamento,\n            documento: resources.documento,\n            observacao: resources.observacao,\n            bancoId: resources.bancoId,\n            contratoId: resources.contratos.id\n          });\n        }\n      });\n      if (this.env.currentActionGlobal === \"DELETE\") {\n        document.getElementById('valor').disabled = true;\n        document.getElementById('juros').disabled = true;\n        document.getElementById('multa').disabled = true;\n        document.getElementById('correcao').disabled = true;\n        document.getElementById('desconto').disabled = true;\n        document.getElementById('documento').disabled = true;\n        document.getElementById('observacao').disabled = true;\n      } else {\n        this.isDisabledDatas = true;\n        this.isDisabledDatas = !this.isDisabledDatas;\n        const stateDatas = this.isDisabledDatas ? 'disable' : 'enable';\n        Object.keys(this.resourceForm.controls).forEach(controlName => {\n          switch (controlName) {\n            case \"dataVencimento\":\n              this.resourceForm.controls[controlName][stateDatas]();\n              break;\n            case \"dataPagamento\":\n              this.resourceForm.controls[controlName][stateDatas]();\n              break;\n          }\n        });\n      }\n    }\n    static #_ = this.ɵfac = function ParcelasContratosCadastroComponent_Factory(t) {\n      return new (t || ParcelasContratosCadastroComponent)(i0.ɵɵdirectiveInject(i1.ParcelasContratosService), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i2.MessageService), i0.ɵɵdirectiveInject(i3.DialogService), i0.ɵɵdirectiveInject(i3.DynamicDialogRef));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ParcelasContratosCadastroComponent,\n      selectors: [[\"app-parcelas-contratos-cadastro\"]],\n      features: [i0.ɵɵInheritDefinitionFeature],\n      decls: 67,\n      vars: 45,\n      consts: [[3, \"header\"], [3, \"submit\", \"formGroup\"], [1, \"p-grid\", \"ui-fluid\", 2, \"margin-top\", \"5px\"], [1, \"p-col-12\", \"p-md-5\", \"p-lg-5\"], [\"for\", \"grupoFinanceiro\"], [\"id\", \"grupoFinanceiro\", \"pInputText\", \"\", \"disabled\", \"true\", \"type\", \"text\", 3, \"value\"], [\"for\", \"tipoGrupoFinanceiro\"], [\"id\", \"tipoGrupoFinanceiro\", \"pInputText\", \"\", \"disabled\", \"true\", \"type\", \"text\", 3, \"value\"], [1, \"p-col-12\", \"p-md-2\", \"p-lg-2\"], [1, \"p-col-12\", \"p-md-12\", \"p-lg-12\"], [1, \"p-col-12\", \"p-md-1\", \"p-lg-1\"], [\"for\", \"parcela\"], [\"id\", \"parcela\", \"type\", \"text\", \"size\", \"5\", \"disabled\", \"true\", \"pInputText\", \"\", \"formControlName\", \"parcela\", 1, \"col-input\"], [\"header-colum\", \"Parcela \\u00E9\", 3, \"form-control\"], [1, \"p-col-12\", \"p-md-2\", \"p-lg-2\", \"clas-div\"], [\"for\", \"valor\"], [\"id\", \"valor\", \"maxlength\", \"14\", \"dir\", \"rtl\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"valor\", \"onClick\", \"this.focus();this.select()\", 3, \"keyup\", \"textMask\"], [\"header-colum\", \"Valor \\u00E9\", 3, \"form-control\"], [\"for\", \"juros\"], [\"id\", \"juros\", \"maxlength\", \"14\", \"dir\", \"rtl\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"juros\", \"onClick\", \"this.focus();this.select()\", 3, \"keyup\", \"textMask\"], [\"for\", \"multa\"], [\"id\", \"multa\", \"maxlength\", \"14\", \"dir\", \"rtl\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"multa\", \"onClick\", \"this.focus();this.select()\", 3, \"keyup\", \"textMask\"], [\"for\", \"correcao\"], [\"id\", \"correcao\", \"maxlength\", \"14\", \"dir\", \"rtl\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"correcao\", \"onClick\", \"this.focus();this.select()\", 3, \"keyup\", \"textMask\"], [\"for\", \"desconto\"], [\"id\", \"desconto\", \"maxlength\", \"14\", \"dir\", \"rtl\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"desconto\", \"onClick\", \"this.focus();this.select()\", 3, \"keyup\", \"textMask\"], [\"for\", \"valorPago\"], [\"id\", \"valorPago\", \"maxlength\", \"14\", \"dir\", \"rtl\", \"disabled\", \"true\", \"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"valorPago\", \"onClick\", \"this.focus();this.select()\", 3, \"keyup\", \"textMask\"], [1, \"ui-g-2\", \"ui-md-2\", \"ui-fluid\"], [\"for\", \"dataContrato\"], [\"name\", \"dataVencimento\", \"id\", \"dataVencimento\", \"dateFormat\", \"dd/mm/yy\", \"yearRange\", \"1920:2030\", \"formControlName\", \"dataVencimento\", 3, \"inline\", \"readonlyInput\", \"monthNavigator\", \"yearNavigator\", \"showIcon\", \"locale\", \"ngClass\"], [\"for\", \"dataPagamento\"], [\"name\", \"dataPagamento\", \"id\", \"dataPagamento\", \"dateFormat\", \"dd/mm/yy\", \"yearRange\", \"1920:2030\", \"formControlName\", \"dataPagamento\", 3, \"onBlur\", \"inline\", \"readonlyInput\", \"monthNavigator\", \"yearNavigator\", \"showIcon\", \"maxDate\", \"ngClass\"], [1, \"p-col-12\", \"p-md-8\", \"p-lg-8\"], [\"for\", \"documento\"], [\"id\", \"documento\", \"pInputText\", \"\", \"type\", \"text\", \"formControlName\", \"documento\"], [\"for\", \"observacao\"], [\"id\", \"observacao\", \"pInputText\", \"\", \"type\", \"text\", \"formControlName\", \"observacao\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Cancelar\", 1, \"ui-button-danger\", 3, \"click\"], [\"class\", \"p-col-12 p-md-2 p-lg-2\", 4, \"ngIf\"], [\"pButton\", \"\", \"type\", \"button\", \"type\", \"submit\", \"icon\", \"pi pi-check\", \"id\", \"btnSalvar\", \"value\", \"Salvar\", \"label\", \"Salvar\", 1, \"ui-button-success\", 3, \"disabled\"], [\"pButton\", \"\", \"type\", \"button\", \"type\", \"submit\", \"icon\", \"pi pi-check\", \"id\", \"btnSalvar\", \"value\", \"Salvar\", \"label\", \"Sim\", 1, \"ui-button-success\", 3, \"disabled\"]],\n      template: function ParcelasContratosCadastroComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p-panel\", 0)(1, \"form\", 1);\n          i0.ɵɵlistener(\"submit\", function ParcelasContratosCadastroComponent_Template_form_submit_1_listener() {\n            return ctx.submitForm();\n          });\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"label\", 4);\n          i0.ɵɵtext(5, \"Grupo Financeiro\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(6, \"input\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 3)(8, \"label\", 6);\n          i0.ɵɵtext(9, \"Tipo Grupo Financeiro\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 8)(12, \"label\", 4);\n          i0.ɵɵtext(13, \"Receita/Despesa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(14, \"input\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 9)(16, \"div\", 10)(17, \"label\", 11);\n          i0.ɵɵtext(18, \"Parcela\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(19, \"input\", 12)(20, \"app-form-field-error\", 13);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 14)(22, \"label\", 15);\n          i0.ɵɵtext(23, \"Valor\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"input\", 16);\n          i0.ɵɵlistener(\"keyup\", function ParcelasContratosCadastroComponent_Template_input_keyup_24_listener() {\n            return ctx.valorMask();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(25, \"app-form-field-error\", 17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"div\", 14)(27, \"label\", 18);\n          i0.ɵɵtext(28, \"Juros\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"input\", 19);\n          i0.ɵɵlistener(\"keyup\", function ParcelasContratosCadastroComponent_Template_input_keyup_29_listener() {\n            return ctx.jurosMask();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(30, \"div\", 14)(31, \"label\", 20);\n          i0.ɵɵtext(32, \"Multa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"input\", 21);\n          i0.ɵɵlistener(\"keyup\", function ParcelasContratosCadastroComponent_Template_input_keyup_33_listener() {\n            return ctx.multaMask();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(34, \"div\", 14)(35, \"label\", 22);\n          i0.ɵɵtext(36, \"Corre\\u00E7\\u00E3o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"input\", 23);\n          i0.ɵɵlistener(\"keyup\", function ParcelasContratosCadastroComponent_Template_input_keyup_37_listener() {\n            return ctx.correcaoMask();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(38, \"div\", 14)(39, \"label\", 24);\n          i0.ɵɵtext(40, \"Desconto\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"input\", 25);\n          i0.ɵɵlistener(\"keyup\", function ParcelasContratosCadastroComponent_Template_input_keyup_41_listener() {\n            return ctx.descontoMask();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(42, \"div\", 14)(43, \"label\", 26);\n          i0.ɵɵtext(44, \"Total\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"input\", 27);\n          i0.ɵɵlistener(\"keyup\", function ParcelasContratosCadastroComponent_Template_input_keyup_45_listener() {\n            return ctx.valorPagoMask();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(46, \"div\", 28)(47, \"label\", 29);\n          i0.ɵɵtext(48, \"Data Vencimento\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(49, \"p-calendar\", 30);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(50, \"div\", 28)(51, \"label\", 31);\n          i0.ɵɵtext(52, \"Data Pagamento\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"p-calendar\", 32);\n          i0.ɵɵlistener(\"onBlur\", function ParcelasContratosCadastroComponent_Template_p_calendar_onBlur_53_listener($event) {\n            return ctx.somaVlrs($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(54, \"div\", 33)(55, \"label\", 34);\n          i0.ɵɵtext(56, \"Documento\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(57, \"input\", 35);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(58, \"div\", 9)(59, \"label\", 36);\n          i0.ɵɵtext(60, \"Observa\\u00E7\\u00E3o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(61, \"input\", 37);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(62, \"div\", 2)(63, \"div\", 8)(64, \"button\", 38);\n          i0.ɵɵlistener(\"click\", function ParcelasContratosCadastroComponent_Template_button_click_64_listener() {\n            return ctx.fecharModal();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(65, ParcelasContratosCadastroComponent_div_65_Template, 2, 1, \"div\", 39)(66, ParcelasContratosCadastroComponent_div_66_Template, 2, 1, \"div\", 39);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"header\", ctx.dadosContrato);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.resourceForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"value\", ctx.grupoFinanceiro);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.tipoGrupoFinanceiro);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.receitaDespesa);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"parcela\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"textMask\", i0.ɵɵpureFunction1(29, _c0, ctx.valorMask));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"valor\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"textMask\", i0.ɵɵpureFunction1(31, _c0, ctx.jurosMask));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"textMask\", i0.ɵɵpureFunction1(33, _c0, ctx.multaMask));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"textMask\", i0.ɵɵpureFunction1(35, _c0, ctx.correcaoMask));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"textMask\", i0.ɵɵpureFunction1(37, _c0, ctx.descontoMask));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"textMask\", i0.ɵɵpureFunction1(39, _c0, ctx.valorPagoMask));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"inline\", false)(\"readonlyInput\", false)(\"monthNavigator\", true)(\"yearNavigator\", true)(\"showIcon\", false)(\"locale\", ctx.ptBrLocale)(\"ngClass\", i0.ɵɵpureFunction1(41, _c1, ctx.isDisabledDatas));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"inline\", false)(\"readonlyInput\", false)(\"monthNavigator\", true)(\"yearNavigator\", true)(\"showIcon\", false)(\"maxDate\", ctx.maxDate)(\"ngClass\", i0.ɵɵpureFunction1(43, _c1, ctx.isDisabledDatas));\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.env.currentActionGlobal != \"DELETE\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.env.currentActionGlobal === \"DELETE\");\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.MaxLengthValidator, i5.FormGroupDirective, i5.FormControlName, i6.FormFieldErrorComponent, i7.Calendar, i8.ButtonDirective, i9.InputText, i10.Panel],\n      styles: [\".col-input[_ngcontent-%COMP%]{text-align:center}.clas-label[_ngcontent-%COMP%], .clas-div[_ngcontent-%COMP%]{text-align:right}\"]\n    });\n  }\n  return ParcelasContratosCadastroComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}