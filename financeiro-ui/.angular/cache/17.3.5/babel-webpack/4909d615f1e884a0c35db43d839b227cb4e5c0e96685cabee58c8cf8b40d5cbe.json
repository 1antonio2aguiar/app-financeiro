{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport { BaseResourceFormComponent } from \"../../../shared/components/base-resource-form/base-resource-form.component\";\nimport { Bairros } from \"./../../../shared/models/bairros\";\nimport { CidadesModalComponent } from './../../cidades/cidades-modal/cidades-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../bairros.service\";\nimport * as i2 from \"primeng/dynamicdialog\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../../../shared/components/bread-crumb/bread-crumb.component\";\nimport * as i7 from \"../../../shared/components/form-field-error/form-field-error.component\";\nimport * as i8 from \"primeng/button\";\nimport * as i9 from \"primeng/inputtext\";\nimport * as i10 from \"primeng/panel\";\nconst _c0 = () => ({\n  label: \"Bairros\",\n  routerLink: \"/bairros\"\n});\nconst _c1 = a0 => ({\n  label: a0\n});\nconst _c2 = (a0, a1) => [a0, a1];\nexport let BairrosCadastroComponent = /*#__PURE__*/(() => {\n  class BairrosCadastroComponent extends BaseResourceFormComponent {\n    constructor(bairrosService, injector, dialogService, messageService) {\n      super(injector, new Bairros(), bairrosService, Bairros.fromJson, messageService);\n      this.bairrosService = bairrosService;\n      this.injector = injector;\n      this.dialogService = dialogService;\n      this.messageService = messageService;\n      this.botaoOnOf = false;\n    }\n    buildResourceForm() {\n      this.resourceForm = this.formBuilder.group({\n        id: [null],\n        cidadesId: [null, [Validators.required]],\n        nome: [null, [Validators.required, Validators.minLength(3)]],\n        cidades: this.formBuilder.group({\n          estados: this.formBuilder.group({\n            uf: [null]\n          }),\n          id: [null, [Validators.required]],\n          nome: [null]\n        })\n      });\n    }\n    creationPageTitle() {\n      this.botaoOnOf = false;\n      return \"Cadastro de Novo Bairro\";\n    }\n    editionPageTitle() {\n      const bairrosName = this.resource.nome || \"\";\n      this.botaoOnOf = true;\n      return \"Editando Bairro: \";\n    }\n    // Modal Cidade/estado\n    showCidades($event) {\n      const ref = this.dialogService.open(CidadesModalComponent, {\n        header: 'Selecione a Cidade',\n        width: '70%'\n      });\n      ref.onClose.subscribe(cidade => {\n        //console.log(cidade);\n        this.resourceForm.patchValue({\n          cidades: {\n            id: cidade.id,\n            nome: cidade.nome,\n            estados: {\n              uf: cidade.estados.nome\n            }\n          },\n          cidadesId: cidade.id\n        });\n      });\n    }\n    createResource() {\n      const resource = Bairros.toJson(this.resourceForm.value);\n      this.resourceService.create(resource).subscribe(result => {\n        this.actionsForSuccess(result);\n      }, error => this.actionsForError(error));\n    }\n    updateResource() {\n      const resource = Bairros.toJson(this.resourceForm.value);\n      this.resourceService.update(resource).subscribe(resource => {\n        this.actionsForSuccess(resource);\n      }, error => this.actionsForError(error));\n    }\n    static #_ = this.ɵfac = function BairrosCadastroComponent_Factory(t) {\n      return new (t || BairrosCadastroComponent)(i0.ɵɵdirectiveInject(i1.BairrosService), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i2.DialogService), i0.ɵɵdirectiveInject(i3.MessageService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BairrosCadastroComponent,\n      selectors: [[\"app-bairros-cadastro\"]],\n      features: [i0.ɵɵInheritDefinitionFeature],\n      decls: 26,\n      vars: 11,\n      consts: [[3, \"items\"], [1, \"margin\"], [\"header\", \"Preencha o Formulario:\"], [3, \"submit\", \"formGroup\"], [1, \"p-grid\", \"ui-fluid\", 2, \"margin-top\", \"5px\"], [\"formGroupName\", \"cidades\", 1, \"p-col-12\", \"p-md-10\", \"p-lg-10\"], [\"for\", \"cidade\"], [1, \"ui-inputgroup\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Buscar\", 3, \"click\", \"disabled\"], [\"type\", \"text\", \"pInputText\", \"\", \"placeholder\", \"Informe a cidade\", \"formControlName\", \"nome\", \"disabled\", \"true\", 2, \"font-weight\", \"bold\"], [\"formGroupName\", \"cidades\", 1, \"p-col-12\", \"p-md-2\", \"p-lg-2\"], [\"for\", \"sigla\"], [\"formGroupName\", \"estados\"], [\"id\", \"uf\", \"type\", \"text\", \"size\", \"2\", \"pInputText\", \"\", \"formControlName\", \"uf\", \"disabled\", \"true\", 2, \"font-weight\", \"bold\"], [1, \"p-col-12\", \"p-md-12\", \"p-lg-12\"], [\"for\", \"nome\"], [\"id\", \"nome\", \"type\", \"text\", \"size\", \"80\", \"pInputText\", \"\", \"formControlName\", \"nome\"], [\"header-colum\", \"Nome\", 3, \"form-control\"], [1, \"p-col-12\", \"p-md-2\", \"p-lg-2\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Voltar\", \"routerLink\", \"/bairros\", 1, \"ui-button-danger\"], [\"pButton\", \"\", \"type\", \"button\", \"type\", \"submit\", \"icon\", \"pi pi-check\", \"label\", \"Salvar\", 1, \"ui-button-success\", 3, \"disabled\"]],\n      template: function BairrosCadastroComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-bread-crumb\", 0);\n          i0.ɵɵelementStart(1, \"div\", 1)(2, \"p-panel\", 2)(3, \"form\", 3);\n          i0.ɵɵlistener(\"submit\", function BairrosCadastroComponent_Template_form_submit_3_listener() {\n            return ctx.submitForm();\n          });\n          i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"label\", 6);\n          i0.ɵɵtext(7, \"Cidade\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 7)(9, \"button\", 8);\n          i0.ɵɵlistener(\"click\", function BairrosCadastroComponent_Template_button_click_9_listener($event) {\n            return ctx.showCidades($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"input\", 9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 10)(12, \"label\", 11);\n          i0.ɵɵtext(13, \"Estado\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"span\", 12);\n          i0.ɵɵelement(15, \"input\", 13);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 14)(17, \"label\", 15);\n          i0.ɵɵtext(18, \"Nome\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(19, \"input\", 16)(20, \"app-form-field-error\", 17);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 4)(22, \"div\", 18);\n          i0.ɵɵelement(23, \"button\", 19);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"div\", 18);\n          i0.ɵɵelement(25, \"button\", 20);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"items\", i0.ɵɵpureFunction2(8, _c2, i0.ɵɵpureFunction0(5, _c0), i0.ɵɵpureFunction1(6, _c1, ctx.pageTitle)));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.resourceForm);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"disabled\", ctx.botaoOnOf);\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"nome\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"disabled\", ctx.submittingForm || ctx.resourceForm.invalid);\n        }\n      },\n      dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i4.FormGroupName, i5.RouterLink, i6.BreadCrumbComponent, i7.FormFieldErrorComponent, i8.ButtonDirective, i9.InputText, i10.Panel]\n    });\n  }\n  return BairrosCadastroComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}