{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { BaseResourceFormComponent } from '../../../shared/components/base-resource-form/base-resource-form.component';\nimport { MessageService } from 'primeng/api';\nimport { environment } from 'src/environments/environment';\nimport { Contratos } from 'src/app/shared/models/contratos';\nimport { ParcelasContratosFiltro } from '../parcelas-contratos/parcelas-contratos-filtro';\nlet ContratosCadastroComponent = class ContratosCadastroComponent extends BaseResourceFormComponent {\n  constructor(contratosService, parcelasContratosService, injector, dialogService, messageService,\n  // Isso aqui e para corrigir o erro: ExpressionChangedAfterItHasBeenCheckedError\n  cdref) {\n    super(injector, new Contratos(), contratosService, Contratos.fromJson, new MessageService());\n    this.contratosService = contratosService;\n    this.parcelasContratosService = parcelasContratosService;\n    this.injector = injector;\n    this.dialogService = dialogService;\n    this.messageService = messageService;\n    this.cdref = cdref;\n    this.env = environment;\n    this.filtro = new ParcelasContratosFiltro();\n    this.ptBrLocale = this.loadLocale();\n  }\n  // Isso aqui e para corrigir o erro: ExpressionChangedAfterItHasBeenCheckedError\n  ngAfterContentChecked() {\n    this.cdref.detectChanges();\n  }\n  buildResourceForm() {\n    this.resourceForm = this.formBuilder.group({});\n  }\n  // Ao clicar nas abas dispara este evento\n  onTabChange(event) {\n    // Pega o id do contrato\n    this.contratoId = document.getElementById('id').value;\n    if (event.index == 1) {\n      this.filtro.pagina = 0;\n      // parte de filtrar as parcelas do contrato\n      this.filtro.params = this.filtro.params.append('contratoId', this.contratoId);\n      this.parcelasContratosService.listAllYesPaginacao(this.filtro);\n    }\n  }\n};\n__decorate([Input()], ContratosCadastroComponent.prototype, \"contratoId\", void 0);\nContratosCadastroComponent = __decorate([Component({\n  selector: 'app-contratos-cadastro',\n  templateUrl: './contratos-cadastro.component.html',\n  styleUrls: ['./contratos-cadastro.component.css']\n})], ContratosCadastroComponent);\nexport { ContratosCadastroComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}